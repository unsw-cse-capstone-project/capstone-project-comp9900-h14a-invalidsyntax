(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ac8432e"],{"0d83":function(e,t,i){},"1dde":function(e,t,i){var o=i("d039"),r=i("b622"),a=i("2d00"),s=r("species");e.exports=function(e){return a>=51||!o((function(){var t=[],i=t.constructor={};return i[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2532:function(e,t,i){"use strict";var o=i("23e7"),r=i("5a34"),a=i("1d80"),s=i("ab13");o({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(a(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,i){var o=i("861d"),r=i("c6b6"),a=i("b622"),s=a("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==r(e))}},"4de4":function(e,t,i){"use strict";var o=i("23e7"),r=i("b727").filter,a=i("1dde"),s=i("ae40"),n=a("filter"),l=s("filter");o({target:"Array",proto:!0,forced:!n||!l},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(e,t,i){var o=i("44e7");e.exports=function(e){if(o(e))throw TypeError("The method doesn't accept regular expressions");return e}},"65f0":function(e,t,i){var o=i("861d"),r=i("e8b5"),a=i("b622"),s=a("species");e.exports=function(e,t){var i;return r(e)&&(i=e.constructor,"function"!=typeof i||i!==Array&&!r(i.prototype)?o(i)&&(i=i[s],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===t?0:t)}},8418:function(e,t,i){"use strict";var o=i("c04e"),r=i("9bf2"),a=i("5c6c");e.exports=function(e,t,i){var s=o(t);s in e?r.f(e,s,a(0,i)):e[s]=i}},"8a24":function(e,t,i){"use strict";var o=i("0d83"),r=i.n(o);r.a},ab13:function(e,t,i){var o=i("b622"),r=o("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[r]=!1,"/./"[e](t)}catch(o){}}return!1}},ae40:function(e,t,i){var o=i("83ab"),r=i("d039"),a=i("5135"),s=Object.defineProperty,n={},l=function(e){throw e};e.exports=function(e,t){if(a(n,e))return n[e];t||(t={});var i=[][e],c=!!a(t,"ACCESSORS")&&t.ACCESSORS,d=a(t,0)?t[0]:l,u=a(t,1)?t[1]:void 0;return n[e]=!!i&&!r((function(){if(c&&!o)return!0;var e={length:-1};c?s(e,1,{enumerable:!0,get:l}):e[1]=1,i.call(e,d,u)}))}},b727:function(e,t,i){var o=i("0366"),r=i("44ad"),a=i("7b0b"),s=i("50c4"),n=i("65f0"),l=[].push,c=function(e){var t=1==e,i=2==e,c=3==e,d=4==e,u=6==e,v=5==e||u;return function(h,p,f,m){for(var g,w,_=a(h),x=r(_),y=o(p,f,3),b=s(x.length),R=0,k=m||n,S=t?k(h,b):i?k(h,0):void 0;b>R;R++)if((v||R in x)&&(g=x[R],w=y(g,R,_),e))if(t)S[R]=w;else if(w)switch(e){case 3:return!0;case 5:return g;case 6:return R;case 2:l.call(S,g)}else if(d)return!1;return u?-1:c||d?d:S}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},caad:function(e,t,i){"use strict";var o=i("23e7"),r=i("4d64").includes,a=i("44d2"),s=i("ae40"),n=s("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:!n},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},e8b3:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-container",[i("el-header",{staticClass:"d-flex align-items-center",staticStyle:{background:"#74b9ff"}},[i("nav-bar")],1),i("el-container",{staticClass:"movie-page",staticStyle:{"max-width":"1080px","padding-bottom":"60px",margin:"0 auto"}},[i("el-main",[i("el-col",{attrs:{span:18}},[i("el-row",[i("div",{staticStyle:{float:"left","font-size":"26px"}},[e._v(e._s(e.movieData.title))])]),i("el-row",{staticStyle:{"margin-top":"15px","margin-bottom":"15px"}},[i("el-col",{attrs:{span:8}},[i("img",{staticClass:"image",attrs:{src:e.movieData.poster}}),i("el-row",{staticStyle:{"padding-top":"15px","font-size":"125%",color:"#FF9900"}},[e._v(" FilmFinder Rating: "),i("el-rate",{staticClass:"movie-poster-rate",attrs:{"allow-half":!0,max:5,disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"},model:{value:e.movieData.rate,callback:function(t){e.$set(e.movieData,"rate",t)},expression:"movieData.rate"}})],1),i("el-row",[e.addedWish?e._e():i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(t){return e.addToWishList()}}},[e._v("Add to Wishlist")]),e.addedWish?i("el-button",{attrs:{type:"danger",icon:"el-icon-remove-outline"},on:{click:function(t){return e.deleteFromWishList()}}},[e._v("Added to Wish List!")]):e._e()],1)],1),i("el-col",{staticClass:"movie-detail",attrs:{span:16}},[i("div",{staticClass:"detail-text"},[i("el-row",[i("div",{staticClass:"genres"},[e._v(" Genres: "),i("br"),e._v(" "+e._s(e.movieData.genres.map((function(e){return e.type})).join(", "))+" ")])]),i("br"),i("el-row",[i("div",{staticClass:"director"},[e._v(" Director: "),i("br"),e._v(" "+e._s(e.movieData.director.map((function(e){return e.name})).join(", "))+" ")])]),i("br"),i("el-row",[i("div",{staticClass:"actors"},[e._v(" Actors: "),i("br"),e._v(" "+e._s(e.movieData.actors.map((function(e){return e.name})).join(", "))+" ")])]),i("br"),i("el-row",[i("div",{staticClass:"movieReleaseTime"},[e._v(" Release time: "),i("br"),e._v(" "+e._s(e.movieData.release_time)+" ")])])],1)])],1),i("el-divider"),i("el-row",[i("div",{staticStyle:{"text-align":"left","font-size":"20px",padding:"6px 5px"}},[e._v(" Movie Description")]),i("div",{staticClass:"movieOverview",staticStyle:{"text-align":"left",padding:"6px 5px"}},[e._v(" "+e._s(e.movieData.overview)+" ")])]),i("el-divider"),e.toWatchList?i("el-row",[i("div",{staticStyle:{"text-align":"left","font-size":"20px",padding:"6px 5px"}},[e._v(" Where to watch")]),e._l(e.toWatchList,(function(t,o){return i("el-col",{key:t.Watch,attrs:{span:4,offset:o>0?1:0}},[i("el-card",{staticClass:"watchPortal"},[i("el-row",[i("img",{staticStyle:{margin:"0 auto",width:"90%"},attrs:{src:t.Company.LogoUrl}})]),i("el-row",{staticStyle:{padding:"10px"}},[i("el-link",{attrs:{type:"primary",href:t.WatchUrl}},[e._v(e._s(t.Watch)+" ")])],1)],1)],1)}))],2):e._e(),i("el-divider"),i("div",{staticStyle:{"text-align":"left","font-size":"20px",padding:"6px 5px"}},[e._v(" User reviews")]),e._l(this.reviewList,(function(t,o){return i("el-row",{key:o,attrs:{id:"review_id_"+t.review_id}},[i("el-card",{staticClass:"review",attrs:{shadow:"hover"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("el-col",{attrs:{span:18}},[i("div",{staticStyle:{float:"left",padding:"0px 5px","text-align":"left"}},[i("el-link",{attrs:{type:"primary",href:"/#/user/"+t.user_id}},[e._v(e._s(t.user_name))]),i("el-rate",{attrs:{"allow-half":!0,disabled:"",max:5,"text-color":"#ff9900","score-template":"{value}"},model:{value:t.rate,callback:function(i){e.$set(t,"rate",i)},expression:"o.rate"}})],1)]),i("el-col",{attrs:{span:6}},[i("el-row",[t.user_id===e.user_id?i("el-button",{staticStyle:{float:"right",padding:"3px 3px",margin:"3px"},attrs:{type:"primary"},on:{click:function(i){return e.deleteReview(t.review_id)}}},[e._v(" Delete review ")]):e._e()],1),i("el-row",[t.user_id===e.user_id?i("el-button",{staticStyle:{float:"right",padding:"3px 3px",margin:"3px"},attrs:{type:"primary"},on:{click:function(i){return e.editReview(t)}}},[e._v(" Edit review ")]):e._e()],1)],1)],1),i("div",{staticClass:"text item",staticStyle:{float:"left",padding:"0px 5px"}},[e._v(" "+e._s(t.review)+" ")])])],1)})),i("el-divider"),i("el-row",{staticClass:"post-review"},[i("el-col",{attrs:{span:16}},[i("el-input",{attrs:{span:12,type:"textarea",rows:3,placeholder:"Please write your review here",clearable:""},model:{value:e.reviewInput,callback:function(t){e.reviewInput=t},expression:"reviewInput"}})],1),i("el-col",{attrs:{span:8}},[i("div",[e._v(" Your rating ")]),i("el-rate",{attrs:{"allow-half":!0,max:5,"show-score":"","text-color":"#ff9900","score-template":"{value}"},model:{value:e.reviewRating,callback:function(t){e.reviewRating=t},expression:"reviewRating"}}),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.postReview()}}},[e._v("Post Review")])],1)],1)],2),"true"===this.isLogon?i("el-col",{attrs:{span:6}},[i("span",[e._v(" Recommend For You:")]),e._l(this.recMovieList,(function(t,o){return i("el-row",{key:o,attrs:{offset:0}},[i("el-card",{staticClass:"rec-movie-card",attrs:{"body-style":{padding:"5px"},shadow:"hover"}},[i("el-row",[i("img",{staticClass:"moviePoster",staticStyle:{margin:"auto",width:"120px",height:"170px"},attrs:{src:t.poster}})]),i("el-row",{staticStyle:{padding:"14px"}},[i("span",[e._v(" Rate: "+e._s(t.rate)+" ")]),i("br"),i("el-link",{attrs:{type:"primary",href:"/#/movie/"+t.movie_id}},[e._v(e._s(t.title))])],1)],1)],1)}))],2):e._e()],1)],1)],1)],1)},r=[],a=(i("4de4"),i("caad"),i("fb6a"),i("2532"),i("bc3a")),s=i.n(a),n={data:function(){return{movieID:-1,toWatchList:{},movieData:{},addedWish:!1,reviewRating:0,reviewInput:"",reviewList:{},isLogon:!1,user_name:"",user_id:0,recMovieList:{},bFetchMovie:!1}},created:function(){this.checkLogon(),this.getMovieDetail(),this.getReviewList(),this.checkAddedWishlist(),this.getRecommendMovie()},methods:{handleSelect:function(e,t){console.log(e,t),"100-1"==e&&console.log("Go to Personal Center")},checkLogon:function(){this.isLogon=!1,this.$cookies.isKey("isLogon")&&"true"==this.$cookies.get("isLogon")&&(this.isLogon="true",this.user_name=this.$cookies.get("user_name"),this.user_id=parseInt(this.$cookies.get("user_id")),console.log(this.user_id))},getMovieDetail:function(){var e=this;this.movieID=parseInt(this.$route.params.id),s.a.get("http://localhost:8080/movie/searchMovieByID",{params:{movie_id:this.movieID,user_id:this.user_id}}).then((function(t){404==t.status?(alert("Internel Error"),console.log("Response:"),console.log(t)):200==t.status&&(console.log("Response:"),console.log(t.data.data),e.movieData=t.data.data,e.getWhereToWatch(t.data.data.title))}))},addToWishList:function(){var e=this;this.isLogon?(this.addedWish=!this.addedWish,s.a.get("http://localhost:8080/user/add_to_wishlist",{params:{user_id:this.user_id,movie_id:this.movieID}}).then((function(t){404==t.status?(alert("Internel Error"),console.log("Response:"),console.log(t)):200==t.status&&(console.log(t.data.data),e.$alert("Add wishlist successful！","Message:",{confirmButtonText:"ok"}))}))):(this.$alert("Please login！","Message:",{confirmButtonText:"ok"}),this.$router.push("/login"))},deleteFromWishList:function(){var e=this;this.addedWish=!this.addedWish,s.a.get("http://localhost:8080/user/remove_from_wishlist",{params:{user_id:this.user_id,movie_id:this.movieID}}).then((function(t){404==t.status?(alert("Internel Error"),console.log("Response:"),console.log(t)):200==t.status&&e.$alert("Removed from wishlist！","Message:",{confirmButtonText:"ok"})}))},getReviewList:function(){var e=this;s.a.get("http://localhost:8080/review/List_movie_review",{params:{user_id:this.user_id,movie_id:this.movieID}}).then((function(t){404==t.status?(alert("Internel Error"),console.log("Response:"),console.log(t)):200==t.status&&(e.reviewList=t.data.data)}))},postReview:function(){var e=this;s.a.get("http://localhost:8080/review/add_review",{params:{user_id:this.user_id,movie_id:this.movieID,rate:this.reviewRating,review:this.reviewInput}}).then((function(t){404==t.status?(alert("Internel Error"),console.log("Response:"),console.log(t)):200==t.status&&(console.log(t.data.data),e.$alert("Review successful！","Message:",{confirmButtonText:"ok"}))})),window.location.reload()},deleteReview:function(e){s.a.get("http://localhost:8080/review/Delete_review?review_id=".concat(e)).then((function(e){200==e.status&&location.reload()}))},editReview:function(e){this.reviewRating=e.rate,this.reviewInput=e.review,document.getElementById("review_id_".concat(e.review_id)).style.display="none",document.getElementsByClassName("post-review")[0].scrollIntoView({block:"start",behavior:"smooth"}),s.a.get("http://localhost:8080/review/Delete_review?review_id=".concat(e.review_id))},checkAddedWishlist:function(){var e=this;s.a.get("http://localhost:8080/user/showWishList",{params:{user_id:this.user_id}}).then((function(t){404==t.status?(alert("Internel Error"),console.log("Response:"),console.log(t)):200==t.status&&t.data.data.includes(e.movieID)&&(e.addedWish=!0)}))},getRecommendMovie:function(){var e=this;"true"===this.isLogon&&s.a.get("http://localhost:8080/movie/recommend_movie",{params:{user_id:this.user_id}}).then((function(t){404==t.status?(alert("Internel Error"),console.log("Response:"),console.log(t)):200==t.status&&(e.recMovieList=t.data.data.slice(0,5))}))},getWhereToWatch:function(e){var t=this,i={method:"POST",url:"https://watch-here.p.rapidapi.com/wheretowatch",headers:{"content-type":"application/json","x-rapidapi-key":"c1dff02b90msh3689238935371c8p1dca4bjsncb918e7d6c95","x-rapidapi-host":"watch-here.p.rapidapi.com"},data:{mediaType:"movie",title:e}};s.a.request(i).then((function(e){console.log("where to watch"),console.log(e.data),t.toWatchList=e.data.filter((function(e){return Array("Amazon","Justwatch","Netflix").includes(e.Watch)}))})).catch((function(e){console.error(e)}))}}},l=n,c=(i("8a24"),i("2877")),d=Object(c["a"])(l,o,r,!1,null,"5a7dcea9",null);t["default"]=d.exports},e8b5:function(e,t,i){var o=i("c6b6");e.exports=Array.isArray||function(e){return"Array"==o(e)}},fb6a:function(e,t,i){"use strict";var o=i("23e7"),r=i("861d"),a=i("e8b5"),s=i("23cb"),n=i("50c4"),l=i("fc6a"),c=i("8418"),d=i("b622"),u=i("1dde"),v=i("ae40"),h=u("slice"),p=v("slice",{ACCESSORS:!0,0:0,1:2}),f=d("species"),m=[].slice,g=Math.max;o({target:"Array",proto:!0,forced:!h||!p},{slice:function(e,t){var i,o,d,u=l(this),v=n(u.length),h=s(e,v),p=s(void 0===t?v:t,v);if(a(u)&&(i=u.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)?r(i)&&(i=i[f],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return m.call(u,h,p);for(o=new(void 0===i?Array:i)(g(p-h,0)),d=0;h<p;h++,d++)h in u&&c(o,d,u[h]);return o.length=d,o}})}}]);
//# sourceMappingURL=chunk-1ac8432e.90df1a14.js.map